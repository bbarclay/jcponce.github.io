<title>Functions (x,y,z)</title>
<!--MathJax-->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
                       TeX: { equationNumbers: { autoNumber: "AMS" } }
                       });
    </script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
                       displayAlign: "left",
                       displayIndent: "5em"
                       });
    </script>
<script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
    </script>
<!--MathJax Ends-->
<body>
    <hr>
    <a href="./2dVectorfield.html">Click here to go to the simulation.</a>
    <p>
    First some basic definitions:
    <p>
    \begin{align*}
    &amp;\mathbf F=\left(F_x,F_y,F_z\right)=-\nabla U=-\mathbf i\,\frac{\partial U}{\partial x}-\mathbf j\,\frac{\partial U}{\partial y}-\mathbf k\,\frac{\partial U}{\partial z}=-\mathbf u_r\,\frac{\partial U}{\partial r}-\mathbf u_{\theta}\frac{1}{r}\,\frac{\partial U}{\partial \theta}-\mathbf u_z\,\frac{\partial U}{\partial z}\\
     &amp; \text{div} \,\mathbf F=\nabla\cdot\mathbf F=\frac{\partial F_x}{\partial x}+\frac{\partial F_y}{\partial y}+\frac{\partial F_z}{\partial z}=\frac{1}{r}\frac{\partial (rF_{r})}{\partial r}+\frac{1}{r}\frac{\partial F_{\theta}}{\partial \theta}+\frac{\partial F_z}{\partial z}\\
    &amp;\text{curl}\, \mathbf F=\nabla \times \mathbf F= \left| \begin{array}{ccc}
    \mathbf i &amp; \mathbf j  &amp; \mathbf k \\
    \frac{\partial}{\partial x} &amp; \frac{\partial}{\partial y}&amp; \frac{\partial}{\partial z}\\
    F_x &amp; F_y &amp; F_z \end{array} \right|
    = \frac{1}{r}
    \left| \begin{array}{ccc}
    \mathbf u_r &amp; r\mathbf u_{\theta} &amp; \mathbf u_z\\
    \frac{\partial}{\partial r} &amp; \frac{\partial}{\partial \theta} &amp; \frac{\partial}{\partial z} \\
    F_r &amp; r F_{\theta}  &amp; F_z \\
    \end{array}\right|
    \end{align*}
<p>
Next, here is a list of all the vector fields in this simulation:
<p>
<ul>

<li><b>1/r^2 single</b>:
    This field is associated with gravity and electrostatic attraction.
    The gravitational field around a planet and the electric field
    around a single point charge are similar to this field.
    The field points towards the origin and is inversely proportional
    to the square of the distance from the origin.
    <p>
    This is a two-dimensional cross section of a three-dimensional field.
    In three dimensions, the divergence of this field is zero except at
    the origin; but in
    this cross section, the divergence is positive everywhere (except at the
    origin, where it is negative).
    <br>
    \begin{align*}
    &amp;\mathbf F=-\frac{\mathbf u_r}{r^2}=-\frac{\mathbf r}{r^3}=\left(-\frac{x}{(x^2+y^2)^{3/2}},-\frac{y}{(x^2+y^2)^{3/2}}\right)\\
    &amp; U= -\frac{1}{r}\\
    &amp; \nabla \times \mathbf F=0\\
    &amp;\nabla \cdot \mathbf F=\frac{1}{r^3}\quad(r\neq0)
    \end{align*}
    <li><b>1/r^2 double</b>:
        This field is associated with gravity and electrostatic attraction.
        The gravitational field around two planets and the electric field
        around two negative point charges are similar to this field.
        The separation of the two centers is adjustable.
    <li><b>1/r single line</b>:
        This field is the electric field around an infinitely long line of
        charge.  It is inversely proportional to the distance from the line.
        <p>
        This is a two-dimensional cross section of a three-dimensional field.
        In three dimensions, the divergence of this field is nonzero; but in
        this cross section, the divergence is zero everywhere except the
        origin.  (It is important to realize that the two-dimensional
        divergence of a field can be different than its three-dimensional divergence.)
        <br>
        \begin{align*}
        &amp;\mathbf F=-\frac{\mathbf u_r}{r}=-\frac{\mathbf r}{r^2}=\left(-\frac{x}{x^2+y^2},-\frac{y}{x^2+y^2}\right)\\
        &amp; U= \log r\\
        &amp; \nabla \times \mathbf F=0\\
        &amp;\nabla \cdot \mathbf F=0\quad(r\neq0)
        \end{align*}
<li><b>1/r double lines</b>:
            This is the field around two infinitely long conductors.  The distance
            between them is adjustable.
            <li><b>1/r rotational</b>:
                In this field, the particle is being pulled in a circle around the
                center.  The speed of its motion is inversely proportional to its
                distance from the line.  This is the magnetic field of an infinitely
                long current-carrying wire.
                <p>
                The divergence of this field is zero everywhere as we would expect
                for a magnetic field.  Surprisingly, the curl is also zero everywhere
                except at the origin,
                even though the particles are clearly moving in a circle.  To see why,
                set the particle movement to "Curl Detectors".  You can see that even
                though the particles are moving in a circle, the particles themselves
                are not turning.  This is because the force on the far side of the
                particles (the side away from the center) is slightly weaker than
                the force on the near side; this is just enough to cause the particles
                to turn slightly in the opposite direction of the force.  This
                counterbalances the rotation caused by the circular motion of the
                particles.  So, the particles remain pointed in the same
                direction as they go around in a circle.
                <p>
                Since the curl is nonzero at the origin, we cannot come up with a potential
                function for this field.
                <p>
                \begin{align*}
                &amp;\mathbf F=-\frac{\mathbf u_{\theta}}{r}=\frac{1}{r^2}(-y,x)=\left(-\frac{y}{x^2+y^2},\frac{x}{x^2+y^2}\right)\\
                &amp; \nabla \times \mathbf F=0\quad(r\neq0)\\
                &amp;\nabla \cdot \mathbf F=0
                \end{align*}
<li><b>1/r rotational double</b>:
                    Here we have two centers of rotation, with an adjustable distance
                    between them.
<li><b>1/r rotational double + ext</b>:
                        Same as above, but a constant external field is added in.
                        The strength and angle of the external field is adjustable.
<li><b>1/r rotational dipole</b>:
                            Here we have two centers of rotation, with rotation in
                            opposite directions, with an adjustable distance between them.
<li><b>1/r rotational dipole + ext</b>:
                                Same as above, but a constant external field is added in.
                                The strength and angle of the external field is adjustable.
                                (In fluid dynamics this field is called the
                                <a href="https://josvg.home.xs4all.nl/VDG/lamb-dip.html">Lamb dipole</a>.)



<li><b>one direction</b>:
     This is a very simple field where the field vectors are pointing
     in the same direction everywhere with the same magnitude.
     <p>
     \begin{align*}
     &amp;\mathbf F=a\,\mathbf i=(a,0)\\
     &amp; U=-a\,x\\
     &amp; \nabla \times \mathbf F=0\\
     &amp;\nabla \cdot \mathbf F=0
     \end{align*}
 <li><b>1/r^2 sphere</b>:
     This field is associated with gravitation.
     Consider the gravitational field around a planet.
     Outside the planet, the field acts as if the planet were a point
     mass; the field is inversely proportional to the square of the
     distance from the center of the planet.  Inside the planet, the
     field is linear to the distance from the center of the planet.
     <p>
    Outside the planet:
    <br>
    \begin{align*}
    &amp;\mathbf F=-\frac{\mathbf r}{r^3}=\left(-\frac{x}{(x^2+y^2)^{3/2}},-\frac{y}{(x^2+y^2)^{3/2}}\right)\\
    &amp; U=-\frac{1}{r}\\
    &amp; \nabla \times \mathbf F=0\\
    &amp;\nabla \cdot \mathbf F=\frac{1}{r^3}
    \end{align*}
    <p>
    Inside the planet (radius = <i>a</i>):
    <br>
    \begin{align*}
    &amp;\mathbf F=-\frac{\mathbf r}{a^3}=\left(-\frac{x}{a^3},-\frac{y}{a^3}\right)\\
    &amp; U=-\frac{3}{2a}+\frac{r^2}{2a^3}\\
    &amp; \nabla \times \mathbf F=0\\
    &amp;\nabla \cdot \mathbf F=-\frac{2}{a^3}
    \end{align*}

<li><b>const radial</b>:
   In this field, the particle is being pulled towards the center
   with a constant force no matter where it is.  I am not aware of
   any real physical force that behaves like this, but if there were
   one, this is what it would look like.
   <p>
   \begin{align*}
   &amp;\mathbf F=a\,\mathbf u_r\\
   &amp; U=a\,r\\
   &amp; \nabla \times \mathbf F=0\\
   &amp;\nabla \cdot \mathbf F=-\frac{a}{r}
   \end{align*}
<li><b>linear radial</b>:
In this field, the particle is being pulled towards the center
 with a force proportional to its distance from the center, similar
to the force on an object attached to a spring.  This force
  looks more interesting when <b>Display: Particles (Force)</b> is
  used instead of a velocity field.
    <p>
    \begin{align*}
    &amp;\mathbf F=a\,\mathbf i=(a,0)\\
    &amp; U=-a\,x\\
    &amp; \nabla \times \mathbf F=0\\
    &amp;\nabla \cdot \mathbf F=0
    \end{align*}
<li><b>constant to z axis</b>:
        In this field, the field vectors are pointing towards the z axis with the same magnitude everywhere.
        <p>
        \begin{align*}
        &amp;\mathbf F=...
        \end{align*}
<li><b>constant to xy axis</b>:
    The field vectors are pointing towards the xy plane with the same magnitude everywhere.
  <p>
  \begin{align*}
  &amp;\mathbf F=...
  \end{align*}
  
<li><b>linear to z axis</b>:
      The field vectors are pointing
      towards the z axis with a force proportional to the distance
      to that axis.
      This force
      looks more interesting when <b>Display: Particles (Force)</b> is
      used instead of a velocity field.
<li><b>linear to xy plane</b>:
          The field vectors are pointing
          towards the xy plane with a force proportional to the distance
          to that plane.
          This force
          looks more interesting when <b>Display: Particles (Force)</b> is
          used instead of a velocity field.
          <br>
          \begin{align*}
          &amp;\mathbf F=...
          \end{align*}
<li><b>linear to yz, xz plane</b>:
                  There is a force
                  towards the yz plane proportional to the distance
                  to that plane, as well as a similar force
                  towards the xz plane.  The relative strength of the two
                  forces is adjustable.
                  This force
                  looks much more interesting when <b>Display: Particles (Force)</b> is
                  used instead of a velocity field; in that case, the particles
                  trace out
                  <a href="http://members.aol.com/edhobbs/applets/lissajous/">Lissajous figures</a>.
                  These are easier to see after hitting the <b>Reset</b> button, or when
                  using a small number of particles.
                  <br>
                  \begin{align*}
                  &amp;\mathbf F=...
                  \end{align*}
<li><b>linear to yz, xz, xy planes</b>:
                      There is a force
                      towards the yz plane proportional to the distance
                      to that plane, as well as similar forces
                      towards the xz and xy planes.  The relative strength of the three
                      forces is adjustable.
                      This force
                      looks much more interesting when <b>Display: Particles (Force)</b> is
                      used instead of a velocity field.
                      
<li><b>inverse to xy plane</b>:
     There is a force
       towards the yz plane inversely proportional to the distance
        to that plane.
       <br>
       \begin{align*}
       &amp;\mathbf F=...
       \end{align*}
<li><b>1/r^2 rotational</b>:
    In this field, the particle is being pulled in a circle around the
    center.  The speed of its motion is inversely proportional to the
    square of the distance from the center.
    </br>
    \begin{align*}
    &amp;\mathbf F=...
    \end{align*}
<li><b>linear rotational</b>:
    In this field, the particle is being pulled in a circle around the
    center.  The speed of its motion is directly proportional to the
    distance from the center.
    <p>
    \begin{align*}
    &amp;\mathbf F=...
    \end{align*}
<li><b>fz=-(x^2+y^2)</b>: Here the force is
        equal to (0, 0, -(x^2+y^2)).  The curl of this field is the
        <b>linear rotational</b> field.
<li><b>constant rotational</b>:
    The particle is being pulled in a circle around the
    center.  The speed of its motion is fixed.
    <p>
    \begin{align*}
    &amp;\mathbf F=...
    \end{align*}
<li><b>(0,0,-r)</b>:
        The curl of this field is the <b>constant rotational</b> field.
<li><b>helical</b>: here the particles move in a helix.
<li><b>fx=y</b>
    <br>
    \begin{align*}
    &amp;\mathbf F=...
    \end{align*}
<li><b>fx=y^2</b>
            <br>
           \begin{align*}
             &amp;\mathbf F=...
             \end{align*}
<li><b>(-yz,xz,0)</b>
       <br>
       \begin{align*}
       &amp;\mathbf F=...
       \end{align*}
<li><b>(yz,xz,0)</b>
       <br>
       \begin{align*}
       &amp;\mathbf F=...
       \end{align*}
<li><b>(-x,-y,2z)</b>: this is the curl of (-yz,xz,0).
<li><b>(-x,y,0)</b>: this is the curl of (yz,xz,0).
         <br>
         \begin{align*}
         &amp;\mathbf F=...
         \end{align*}
<li><b>(x-y,x+y,0)</b>
         <br>
         \begin{align*}
         &amp;\mathbf F=...
         \end{align*}
<li><b>(x-y,x+y,2z)</b>

<li><b>R&ouml;ssler attractor</b>:
        This is a <a href="http://www.ocf.berkeley.edu/~trose/rossler.html">strange
       attractor</a> discovered by Otto R&ouml;ssler.
       The parameter <b>c</b> (from the field equations)
       is adjustable, as well as the scale in the
       z direction.
<li><b>Lorenz attractor</b>: this is another <A href="http://www.zeuscat.com/andrew/chaos/chaos.html">strange attractor</a>,
    discovered by Edward Lorenz.  You can make
    the attractor pattern larger or smaller by adjusting the scale.
<li><b>user-defined potential</b>: this allows you to enter
        an arbitrary potential function into a text box.  The field vectors
        will be calculated from it.  A sample potential is <tt>x*x-z*z</tt>,
        which is a saddle potential.  Here are some other sample expressions,
        to give you an idea of the input format:
        <pre>
            x+y-z
            -x^2+5.2*y
            2*sin(x)+3*y
            1000/(r^2)-5*z
            abs(x)
            exp(2*log(x+10))+sqrt(y+10)
        </pre>
        After entering a new potential, press return so that the change
        takes effect.  If nothing happens, then the field may be too weak; either
        increase the field strength, or multiply the field by a large constant.
        If particles jump around randomly with no apparent pattern, the field
        may be too strong.
        <p>
        Each coordinate ranges
        from -10 to 10, so the edges of the box are at (&plusmn;10,&plusmn;10,&plusmn;10).
        The center of the box is the origin.
<li><b>user-defined field</b>: this allows you to enter
            an arbitrary field into text boxes (one for each coordinate).
            If you try to enter some of the predefined fields (like <tt>(yz,xz,0)</tt>)
            into the text boxes so you can modify them, keep in mind that the
            correct input format is <tt>y*z</tt>, not <tt>yz</tt>.  Also the field
            will not appear exactly the same, because many of the predefined
            fields have a constant scaling factor that isn't reflected in the name
            of the field.
        </ul>
        <p>
        <a href="./3dVectorfield.html">Click here to go to the simulation.</a>
        <hr>
      
      
        <p>
        <b>Note:</b> This  is an adaptation of the open-source  code <a href="https://sourceforge.net/p/swingjs/code/HEAD/tree/trunk/src/com/falstad/" target="_blank">VecDemo.java</a> written by  Paul Falstad (<a href="http://www.falstad.com/" target="_blank">www.falstad.com</a>).
        <p>
</body>
